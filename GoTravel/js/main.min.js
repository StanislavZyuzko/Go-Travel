"use strict";const explore=document.querySelector(".main-inner__btn");explore.addEventListener("click",(()=>{explore.classList.contains("main-inner__btn--active")&&explore.classList.remove("main-inner__btn--active")}));const setExplore=()=>{explore.innerHTML="Explore Right Now!"},jsConfetti=new JSConfetti,tooltip=document.querySelector(".header__tooltip-text"),link=document.querySelector(".header__slogan"),getConfetti=async()=>{tooltip.style.display="none",await jsConfetti.addConfetti({confettiNumber:350,confettiColors:["#ff0a54","#ff477e","#ff7096","#ff85a1","#fbb1bd","#f9bec7"]}),link.style.cursor="default",explore.classList.add("main-inner__btn--active"),setTimeout(setExplore,800)};tooltip.addEventListener("click",getConfetti),link.addEventListener("click",getConfetti);const title=document.querySelector(".header__slogan");title.innerHTML=title.innerText.split("").map(((e,t)=>`<span class="ltr" style="--delay: ${100*t}ms">${e}</span>`)).join("");const ltrs=document.querySelectorAll(".header__slogan .ltr");ltrs.forEach((e=>{e.addEventListener("animationend",(()=>{e.classList.add("show")}))}));const{body:body}=document,menu=document.querySelector(".header__menu-body"),burger=document.querySelector(".burger");burger.addEventListener("click",(()=>{body.classList.toggle("stop-scroll"),menu.classList.toggle("header__menu-body--visible"),burger.classList.toggle("burger--active")}));const CLASS_LIST={MODAL:"modal",MODAL_ACTIVE:"modal--active",MODAL_HAS_SCROLL:"modal--has-scroll",MODAL_DIALOG_BODY:"modal__dialog-body",TRIGGER_OPEN:"modal__open",TRIGGER_CLOSE:"modal__close"},paddingOffset=window.innerWidth-document.body.offsetWidth,hideScroll=()=>{document.body.style.paddingRight=`${paddingOffset}px`,document.body.style.overflow="hidden"},showScroll=e=>{"transform"===e.propertyName&&(document.body.style.paddingRight="",document.body.style.overflow="visible",e.target.closest(`.${CLASS_LIST.MODAL}`).removeEventListener("transitionend",showScroll))};function OpenVideoModal(e,t){const r=document.getElementById(e),s=r.getAttribute(t);let a;r.addEventListener("click",(()=>{a=document.querySelector(".modal__video video"),a.src=s})),document.addEventListener("click",(e=>{(e.target.closest(".modal__close--video")||e.target.classList.contains("modal--video"))&&(e.preventDefault(),a.src=" ")}))}document.addEventListener("click",(e=>{if(e.target.closest(`.${CLASS_LIST.TRIGGER_OPEN}`)){e.preventDefault();const t=e.target.closest(`.${CLASS_LIST.TRIGGER_OPEN}`).getAttribute("href").replace("#",""),r=document.getElementById(t);document.body.style.paddingRight=`${paddingOffset}px`,document.body.style.overflow="hidden",r.classList.add(CLASS_LIST.MODAL_ACTIVE)}if(e.target.closest(`.${CLASS_LIST.TRIGGER_CLOSE}`)||e.target.classList.contains(CLASS_LIST.MODAL_ACTIVE)){e.preventDefault();const t=e.target.closest(`.${CLASS_LIST.MODAL}`);t.classList.remove(CLASS_LIST.MODAL_ACTIVE),t.addEventListener("transitionend",showScroll)}})),document.addEventListener("DOMContentLoaded",(()=>{OpenVideoModal("video-open","data-video-url")}));const{forms:forms}=document,checkPasswordsIdentity=(e,t)=>{const r=e.currentTarget.querySelectorAll("[type='password']");if(r.length>1){const t=Array.from(r);r.forEach((e=>{const t=e.closest(".login-form__label").querySelectorAll(".just-validate-error-label");if(t.length>1){Array.from(t)[0].remove()}}));const s=e.currentTarget.querySelector(".login-form__psw"),a=e.currentTarget.querySelector(".login-form__repeat-psw");if(s.value.length>0&&s.value===a.value)!0,t.forEach((e=>{const t=e.closest(".login-form__label").querySelector(".just-validate-error-label");t&&t.remove()}));else if(s.value.length>0&&s.value!==a.value){!1;const r=e.target.closest(".login-form__label");"password"!==e.target.type||r.querySelector(".just-validate-error-label")||r.insertAdjacentHTML("beforeend",'<div class = "just-validate-error-label">Passwords must coincide!</div>'),t.forEach((e=>{e.classList.contains("just-validate-success-field")&&(e.classList.remove("just-validate-success-field"),e.classList.add("just-validate-error-field"))}))}}},disableSendButton=e=>{checkPasswordsIdentity(e);let t=!0;const r=e.currentTarget.querySelectorAll("[required]"),s=e.currentTarget.querySelector("[type='submit']");Array.from(r).forEach((e=>{e.value||(t=!1)}));0===e.currentTarget.querySelectorAll(".just-validate-error-field").length&&t?s.disabled=!1:s.disabled=!0};[...forms].forEach((e=>{e.addEventListener("input",disableSendButton)}));const resetAfterSubmit=e=>{e.target.querySelector('[type="submit"]').disabled=!0,e.target.reset()},setSuccess=e=>{const t=new FormData(e.target);alert(`sent:\n ${[...t]}`);const r=document.querySelectorAll("[required]");var s;Array.from(r).forEach((e=>{e.classList.contains("just-validate-success-field")&&e.classList.remove("just-validate-success-field")})),(s=e).target.querySelector('[type="submit"]').disabled=!0,s.target.reset()},loginValidate=new window.JustValidate('[name="loginform"]',{validateBeforeSubmitting:!0});loginValidate.addField(".login-form__uname",[{rule:"required",value:!0,errorMessage:"Enter your name!"},{rule:"customRegexp",value:/^([А-Я]{1}[а-яё]{1,23}|[A-Z]{1}[a-z]{1,23})$/,errorMessage:"Enter your name properly"}]).addField(".login-form__psw",[{rule:"minLength",value:6,errorMessage:"The password must contain at least 6 characters!"},{rule:"customRegexp",value:/(?=.*[0-9])/,errorMessage:"The password must contain at least one number!"},{rule:"required",value:!0,errorMessage:"Enter password!"}]).onSuccess((e=>{setSuccess(e)}));const signupValidate=new window.JustValidate('[name="signupform"]',{validateBeforeSubmitting:!0});signupValidate.addField(".login-form__email",[{rule:"required",value:!0,errorMessage:"E-mail is required"},{rule:"email",value:!0,errorMessage:"Enter correct E-mail"}]).addField(".login-form__psw",[{rule:"minLength",value:6,errorMessage:"The password must contain at least 6 characters!"},{rule:"customRegexp",value:/(?=.*[0-9])/,errorMessage:"The password must contain at least one number!"},{rule:"required",value:!0,errorMessage:"Enter password!"}]).addField(".login-form__repeat-psw",[{rule:"minLength",value:6,errorMessage:"The password must contain at least 6 characters!"},{rule:"customRegexp",value:/(?=.*[0-9])/,errorMessage:"The password must contain at least one number!"},{rule:"required",value:!0,errorMessage:"Enter password!"}]).onSuccess((e=>{setSuccess(e)}));const subscribeValidate=new window.JustValidate('[name="subscribeform"]',{validateBeforeSubmitting:!0});subscribeValidate.addField(".subscribe__email",[{rule:"required",value:!0,errorMessage:"E-mail is required"},{rule:"email",value:!0,errorMessage:"Enter correct E-mail"}]).onSuccess((e=>{setSuccess(e)}));const imageSlider=new Swiper(".swiper",{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},keyboard:{enabled:!0,onlyInViewport:!0,pageUpDown:!0},watchOverflow:!0,initialSlide:2,loop:!0,breakpoints:{320:{slidesPerView:1},840:{slidesPerView:2,spaceBetween:20},1252:{slidesPerView:2.5,spaceBetween:30}}});document.querySelectorAll(".rating__item").forEach((e=>e.addEventListener("click",(()=>{e.parentNode.dataset.totalValue=e.dataset.itemValue}))));